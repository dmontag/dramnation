<html>
<head>
    <style>
body {
    background: url(bg2.jpg) no-repeat center center fixed; 
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
}

.heading {
    position: absolute;
    left: 30px;
    top: 80%;
    color: white;
    font-family: "Lucida Console", Monaco, monospace;
}

.heading h1 {
    font-size: 2.5em; 
}

.console {
    position: absolute;
    left: 40%;
    bottom: 0%;
    color: white;
    font-family: "Lucida Console", Monaco, monospace;
    width:55%;
}

#query {
    width: 100%;
}

#result {
    height: 70%;
    width: 100%;
}

    </style>
    <script src="jquery-2.1.1.js"></script>
    <script>
        $(document).ready(function() {
            $("#query").keypress(function (e) {
                if (e.which == '13') {
                    $("#result").html("");
                    var query = $("#query")[0].value;
                    $.post("/app", {query: query}, renderResult);
                }
            });
        });

        function renderResult(result, status, xhr) {
            $("#result").html(result.map(function(d) {
                var res = d["result"]; 
                if (res) {
                    return res[0] + " " + JSON.stringify(res[1]["_data"]["data"]);
                } else {
                    return d["count(*)"] == 1 ? "Ok" : "Failed";
                }
                
            }).join("<br/>"));
        }
    </script>
</head>
<body>
    <div class="heading">
        <h1>Dramnation</h1>
        <p>
            Sponsored by Glenersta Whisky Society
        </p>
    </div>
    <div class="console">
        <div id="result"></div>
        <input id="query" type="text"/>
        <p>
            Examples:
            <ul>
                <li>add owner David</li>
                <li>add distillery Aberlour</li>
                <li>add distillery Tamdhu</li>
                <li>add bottler "Gordon MacPhail"</li>
                <li>list whisky for owner David</li>
                <li>list whisky for distillery Aberlour</li>
                <li>add David's whisky Aberlour Abunadh 60.7% cask strength single cask</li>
                <li>add David's whisky Tamdhu 1990 single cask bottled by "Gordon MacPhail"</li>
            </ul>
        </p>
    </div>
</body>
</html>